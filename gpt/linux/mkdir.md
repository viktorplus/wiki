# mkdir — шпаргалка

Коротко: `mkdir` создаёт новые каталоги с указанными правами и автоматически создаёт промежуточные пути.
#mkdir, #linux, #filesystem
---

## Синтаксис

```
mkdir [OPTIONS] DIRECTORY...
mkdir project              # создать один каталог
mkdir -p dir/subdir        # создать всю вложенную цепочку
```

Если указано несколько путей, `mkdir` создаёт их последовательно.

## Основные опции

- `-p`, `--parents` — создаёт промежуточные каталоги, если их нет, и не ругается, если каталог уже существует (`mkdir -p /srv/www/html`)
- `-m MODE`, `--mode=MODE` — задаёт права (например, `mkdir -m 750 secure`)
- `-v`, `--verbose` — печатать информацию о созданных каталогах
- `-Z`, `--context=CTX` — установить SELinux-контекст
- `--help` — показать справку

## Примеры

- Создать каталог с нужными правами:
  ```
  mkdir -m 755 /srv/www/html
  ```
- Создать вложенные каталоги:
  ```
  mkdir -p /opt/app/releases/2025-11-22
  ```
- Сочетать `mkdir` и `umask`:
  ```
  umask 027
  mkdir secure
  ```
- Создать несколько каталогов сразу:
  ```
  mkdir logs configs data
  ```
- Сценарий развертывания:
  ```
  install -d -m 755 /etc/myapp/conf.d
  ```
  (встроенная утилита `install` умеет `-d`, но `mkdir -p` тоже подходит)

## Безопасные практики

- Перед созданием каталога проверяйте, не существует ли файл с таким именем (`[ -e path ] && echo Exists`).
- Учитывайте `umask` пользователя — если нужно строгие права, используйте `mkdir -m` или `install -d`.
- Если каталог создаётся в скрипте, используйте `mkdir -p` и проверяйте код возврата `|| exit 1`.
- При развертывании сервисов создавайте каталоги с понятными именами и правами (`mkdir -p /var/lib/myapp/{run,log,data}`).

## Ссылки

- `man mkdir`
- GNU Coreutils: https://www.gnu.org/software/coreutils/mkdir

---

Вернуться к [главной странице](./README.md).
