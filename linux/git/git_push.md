````markdown
# Шпаргалка по команде `git push`

`git push` — это команда Git, которая используется для **отправки локальных изменений** на удалённый репозиторий. Это основной способ синхронизации твоих изменений с центральным репозиторием, например, на GitHub или GitLab.

---

## 1. Основной синтаксис

```bash
git push <remote> <branch>
````

- **`<remote>`** — имя удалённого репозитория (по умолчанию это `origin`).
    
- **`<branch>`** — имя ветки, которую ты хочешь отправить на сервер.
    

Пример:

```bash
git push origin main
```

Этот пример отправляет локальную ветку `main` в удалённый репозиторий `origin`.

---

## 2. Параметры и флаги `git push`

### 2.1. `git push` (стандартная отправка изменений)

```bash
git push
```

- Если ты на локальной ветке, которая отслеживает удалённую, достаточно просто ввести `git push`.
    
- Git автоматически отправит изменения в соответствующую удалённую ветку, если она была привязана при первом push через `-u`.
    

---

### 2.2. `git push -u origin <branch>` — первый пуш ветки

Если ты создал новую ветку и хочешь отправить её на сервер, используешь:

```bash
git push -u origin <branch>
```

- **`-u`** (или `--set-upstream`) устанавливает отслеживаемую ветку для локальной ветки, чтобы в будущем достаточно было использовать просто `git push`.
    

Пример:

```bash
git push -u origin feature/awesome-feature
```

- В следующий раз, чтобы отправить изменения в `feature/awesome-feature`, можно использовать только:
    

```bash
git push
```

---

### 2.3. `git push --force` или `git push -f` — принудительный пуш

```bash
git push --force
```

- **Используется для принудительного переписывания истории на удалённой ветке.**
    
- Часто используется в случае, когда ты переписал историю локальной ветки, например, с помощью `git commit --amend` или `git rebase`.
    

**Осторожно!**  
Этот флаг может **перезаписать изменения**, сделанные другими пользователями, если они сделали push в ту же ветку.

Пример:

```bash
git push --force origin main
```

- Это может привести к потере изменений, сделанных другими, если они пушили в ветку, которую ты перезаписываешь.
    

---

### 2.4. `git push --force-with-lease` — безопасное принудительное слияние

```bash
git push --force-with-lease
```

- **Более безопасный способ**, чем `--force`.
    
- Проверяет, не было ли изменений на удалённой ветке после того, как ты последний раз её забрал. Если на сервере кто-то ещё сделал push, команда откажется от твоего изменения, чтобы не потерять чужую работу.
    

Пример:

```bash
git push --force-with-lease origin main
```

---

### 2.5. `git push --all` — пуш всех веток

```bash
git push --all
```

- Отправляет **все локальные ветки** на сервер.
    

Пример:

```bash
git push --all origin
```

- Это полезно, если ты создал много веток и хочешь сразу отправить их все на сервер.
    

---

### 2.6. `git push --tags` — пуш всех тегов

```bash
git push --tags
```

- Отправляет все теги на удалённый сервер.
    

Пример:

```bash
git push --tags origin
```

- Это полезно, если ты создал несколько тегов и хочешь отправить их на сервер.
    

---

## 3. Расширенные флаги и сценарии

### 3.1. `git push <remote> <local-branch>:<remote-branch>` — пуш в другую ветку

```bash
git push origin main:feature/bugfix
```

- Отправляет твою локальную ветку `main` в удалённую ветку `feature/bugfix`.
    

**Когда полезно:**

- Если ты хочешь отправить изменения в ветку с другим именем на сервере.
    

---

### 3.2. `git push --dry-run` — проверка, что будет отправлено

```bash
git push --dry-run
```

- Это полезный способ **проверить**, что будет отправлено, не выполняя реальный push.
    
- Показывает, какие изменения будут отправлены на сервер.
    

---

## 4. Типичные ошибки и их решения

### 4.1. `fatal: The current branch <branch> has no upstream branch`

**Что значит:**  
Локальная ветка не привязана к удалённой.

**Решение:**

1. Установи upstream (слежение) для этой ветки:
    

```bash
git push -u origin <branch>
```

- Дальше можно просто использовать `git push`.
    

---

### 4.2. `error: failed to push some refs to ...`

**Что значит:**  
Этот тип ошибки обычно возникает, когда на удалённом репозитории есть изменения, которые ты не забрал.

**Как исправить:**

1. Сначала сделай `git pull`, чтобы забрать изменения с сервера:
    

```bash
git pull --rebase origin <branch>
```

2. После того как все конфликты будут разрешены, снова попробуй сделать push:
    

```bash
git push
```

---

### 4.3. `fatal: Authentication failed`

**Что значит:**  
Git не может авторизоваться на удалённом сервере.

**Как исправить:**

- Убедись, что у тебя правильный **логин/пароль** или **токен** для GitHub/GitLab.
    
- Если ты используешь **SSH-ключи**, убедись, что ключ добавлен в агент SSH и на сервер.
    

---

### 4.4. `remote: error: GH006: Protected branch update failed`

**Что значит:**  
Ты пытаешься сделать push в защищённую ветку, например, в `main` или `master`, которая настроена для **требования Pull Request**.

**Решение:**

1. Создай **свою ветку** и сделай push туда:
    

```bash
git push origin feature/my-changes
```

2. Создай **Pull Request** для слияния с основной веткой.
    

---

## 5. Резюме

|Команда|Описание|
|---|---|
|`git push`|Отправка локальных изменений в удалённый репозиторий.|
|`git push -u origin <branch>`|Отправка ветки на сервер и установка отслеживания для неё.|
|`git push --force`|Принудительная отправка, переписывающая удалённую ветку.|
|`git push --force-with-lease`|Безопасная принудительная отправка, проверяющая изменения на сервере.|
|`git push --all`|Отправка всех локальных веток на сервер.|
|`git push --tags`|Отправка всех тегов на сервер.|
|`git push <local-branch>:<remote-branch>`|Пуш в удалённую ветку с другим именем.|
|`git push --dry-run`|Проверка, что будет отправлено на сервер без реального push.|

---

Если возникнут вопросы или ошибки при `git push`, просто пришли текст ошибки — разберём, что и как исправить в твоём конкретном случае!