````markdown
# Шпаргалка по команде `git commit`

`git commit` — это основная команда в Git, которая **сохраняет изменения** в локальную историю версий. После того как ты сделал изменения в файлах и добавил их в индекс с помощью `git add`, ты используешь `git commit` для того, чтобы зафиксировать эти изменения.

---

## 1. Основной синтаксис

```bash
git commit -m "сообщение коммита"
````

- **`-m`** — это флаг, указывающий на то, что ты хочешь сразу добавить сообщение к коммиту.
    
- Сообщение — это описание изменений, которые ты внес в проект.
    

**Пример**:

```bash
git commit -m "Добавлена новая функция поиска по ключевым словам"
```

---

## 2. Детальный разбор параметров

### 2.1. `git commit -m "message"`

**Что делает**:  
Закоммитить изменения, добавленные в индекс, с **описанием**.  
`"message"` — это описание изменений, которое важно, чтобы было кратким, но информативным.

Пример:

```bash
git commit -m "Исправлены баги в модуле авторизации"
```

- Такое сообщение помогает быстро понять, что изменялось, не заходя в детали кода.
    
- Коммит будет сохранён в локальной истории Git.
    

### 2.2. `git commit -a -m "message"`

**Что делает**:  
`-a` автоматически добавляет в индекс **все изменённые** отслеживаемые файлы, пропуская файлы, которые ещё не отслеживаются Git. Эта команда экономит шаг и не требует предварительного `git add`.

Пример:

```bash
git commit -a -m "Исправлен баг с авторизацией"
```

- Эта команда сразу зафиксирует изменения во всех отслеживаемых файлах, которые были изменены (статус `modified`), но **не добавит новые файлы**.
    
- Это ускоряет процесс, если ты хочешь сделать быстрый коммит и не добавлять новые файлы.
    

### 2.3. `git commit --amend`

**Что делает**:  
`--amend` позволяет **изменить последний коммит**, например, если ты забыл что-то добавить или ошибся в сообщении.

Пример:

```bash
git commit --amend -m "Исправлен баг в модуле поиска"
```

- Позволяет переписать последний коммит, чтобы:
    
    - добавить новые изменения, которые ты забыл,
        
    - изменить описание коммита (сообщение).
        

**Важное замечание:**

- Это переписывает историю, и если ты уже отправил (push) этот коммит на удалённый репозиторий, будет конфликт.
    
- Используй с осторожностью на общих ветках, чтобы не нарушить историю для других разработчиков.
    

---

### 2.4. `git commit -v` (с подробностями)

**Что делает**:  
Добавляет флаг `-v` (verbose), чтобы **показать изменения** в файлах в сообщении коммита.

Пример:

```bash
git commit -v -m "Добавлена новая функция поиска"
```

- Показывает контекст изменений перед тем, как ты закоммитишь. Это полезно, чтобы убедиться, что всё добавлено верно.
    

---

## 3. Форматирование сообщений коммита

Существуют несколько рекомендаций по написанию сообщений коммитов, чтобы они оставались понятными и структурированными:

### 3.1. Структура сообщения

- **Заголовок**: Первая строка сообщения должна быть кратким и ясным описанием изменений. Рекомендуется не превышать **50 символов**.
    
- **Пустая строка**: Оставь пустую строку после заголовка, чтобы разделить его от тела сообщения.
    
- **Тело сообщения**: После заголовка можно детально объяснить, что было сделано и почему. Рекомендуется ограничить строки по длине **72 символами**.
    

**Пример**:

```bash
git commit -m "Исправлены баги в поисковой форме

Фиксирует несколько ошибок:
- Некорректная работа с фильтрами.
- Ошибка при отправке пустого запроса."
```

- Заголовок: краткий, поясняющий.
    
- Тело: объяснение изменений.
    

### 3.2. Использование глаголов в повелительном наклонении

Git рекомендует использовать **повелительное наклонение** в сообщениях:

- `Fix bug`, а не `Fixed bug`.
    
- `Add feature`, а не `Added feature`.
    

Это делает историю коммитов более однородной и ясной, особенно когда читаешь историю изменений в контексте команды.

---

## 4. Статус коммита

### 4.1. Статус коммита после выполнения

После выполнения `git commit`:

```bash
git log --oneline
```

Выведет историю последних коммитов в виде кратких сообщений:

```text
a1b2c3d Добавлена новая функция поиска по ключевым словам
9f8e7d2 Исправлены баги в модуле авторизации
5a6b7c8 Начальная настройка проекта
```

- Хеш коммита: короткий идентификатор.
    
- Сообщение коммита: текстовое описание изменений.
    

---

## 5. Пример использования в реальной жизни

Допустим, ты работаешь над новым функционалом, и тебе нужно сделать несколько коммитов. Как это будет выглядеть:

```bash
# После внесения изменений в код
git add src/app.py
git commit -m "Добавлена функция регистрации пользователя"

# Поправил ещё пару ошибок
git add src/auth.py
git commit -m "Исправлены баги с валидацией"

# Немного улучшил документацию
git add docs/readme.md
git commit -m "Обновлены инструкции по установке"
```

---

## 6. Важные моменты

### 6.1. Принудительное добавление файлов в коммит

Если ты хочешь добавить **все изменения**, включая игнорируемые файлы:

```bash
git add -A
git commit -m "Добавлены изменения, включая игнорируемые"
```

### 6.2. Коммит только с конкретными файлами

Если ты хочешь сделать коммит только с определёнными файлами:

```bash
git add src/app.py
git commit -m "Обновлена логика авторизации"
```

---

## 7. Резюме

|Опция|Описание|
|---|---|
|`git commit -m "message"`|Основной способ сделать коммит с сообщением.|
|`git commit -a -m "message"`|Коммитит все изменённые файлы (отслеживаемые) с указанным сообщением.|
|`git commit --amend`|Изменяет последний коммит (сообщение или добавление новых файлов).|
|`git commit -v -m "message"`|Показывает изменения, которые будут добавлены, перед коммитом.|
|`git commit -m "message"` (структура)|Рекомендуемая структура для сообщений: заголовок + описание изменений.|

---

Если хочешь, могу помочь с конкретными примерами коммитов в твоём проекте или предложить дополнительные практики по написанию сообщений коммитов для командной работы.