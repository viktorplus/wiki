````markdown
# Мини-шпаргалка по командам

```bash
git branch -v
git commit -ma "dfdfdfdfdfdfd"
git log --oneline
git log --all
````

---

## 1. `git branch -v` — список веток с последним коммитом

### Что делает

Показывает все **локальные ветки** + краткую информацию о **последнем коммите** в каждой.

```bash
git branch -v
```

Пример:

```text
* main        a1b2c3d Fix login bug
  feature/ui  9f8e7d2 Add new header
  test-branch 5a6b7c8 WIP: experiments
```

- `*` — текущая ветка.
    
- `a1b2c3d` — сокращённый хеш последнего коммита.
    
- Текст — сообщение последнего коммита.
    

### Полезное расширение: `-vv`

```bash
git branch -vv
```

Показывает также:

- привязку к удалённой ветке (`[origin/main]`),
    
- насколько ветка **впереди/позади** (`ahead 1`, `behind 2`).
    

---

## 2. `git commit -ma "dfdfdfdfdfdfd"` — коммит с сообщением и авто-добавлением изменений

```bash
git commit -ma "dfdfdfdfdfdfd"
# то же самое:
git commit -am "dfdfdfdfdfdfd"
```

### Ключи

- `-m "..."` — сообщение коммита.
    
- `-a` — (**all**) автоматически добавить в коммит **все изменённые отслеживаемые файлы**.
    

Важно:

- `-a` **НЕ** добавляет новые (untracked) файлы.
    
- Для новых файлов нужен `git add file.py`.
    

Пример типичного использования:

```bash
# изменил уже отслеживаемые файлы
git commit -am "Refactor user service"
```

Если есть новые файлы:

```bash
git add new_file.py
git commit -am "Add new feature"
```

---

## 3. `git log --oneline` — компактная история коммитов

### Что делает

Показывает историю коммитов в формате «одна строка на коммит»:

```bash
git log --oneline
```

Пример:

```text
a1b2c3d Fix login bug
9f8e7d2 Add header component
5a6b7c8 Initial project setup
```

- Слева — сокращённый хеш.
    
- Справа — сообщение коммита.
    

Полезно, когда:

- нужно быстро посмотреть, **что и в каком порядке коммитилось**,
    
- нужно найти хеш для `git checkout`, `git revert`, `git cherry-pick`.
    

### Полезные добавки

```bash
git log --oneline -5
```

— показать только последние 5 коммитов.

```bash
git log --oneline --graph --decorate --all
```

- `--graph` — рисует ASCII-веточки слева.
    
- `--decorate` — отображает ветки и теги.
    
- `--all` — показывает историю **всех веток**, а не только текущей.
    

---

## 4. `git log --all` — история всех веток

### Что делает

По умолчанию `git log` показывает историю **только текущей ветки**.  
Флаг `--all` расширяет вывод на **все ветки**.

```bash
git log --all
```

Чаще всего используют **в связке**:

```bash
git log --oneline --all
```

или более наглядно:

```bash
git log --oneline --graph --decorate --all
```

Зачем:

- увидеть **всю историю репозитория**, включая ветки, где ты сейчас не находишься;
    
- понять, где какая ветка разошлась, какие коммиты есть в других ветках;
    
- удобно смотреть структуру ветвления и слияния.
    

---

## Кратко по четырём командам

|Команда|Для чего|
|---|---|
|`git branch -v`|Локальные ветки + последний коммит в каждой|
|`git commit -ma "message"`|Коммит всех изменённых отслеживаемых файлов с сообщением|
|`git log --oneline`|Краткая история текущей ветки (хеш + сообщение)|
|`git log --oneline --all`|Краткая история **всех веток**|

```
::contentReference[oaicite:0]{index=0}
```