# Python Fundamentals — Урок 10: коллекции и списки (list)

## 1) Коллекции и изменяемость
**Коллекции** — структуры данных для хранения и организации множества элементов.  
**Изменяемые (mutable) типы** — можно менять содержимое объекта после создания (добавлять/удалять/изменять элементы), не создавая новый объект.

---

## 2) Список (`list`) — что это
**Список** — упорядоченная, изменяемая коллекция, которая может хранить элементы **любых типов**.

Ключевые свойства списка:
- **mutable**: элементы можно менять
- **order**: элементы хранятся в порядке добавления
- **duplicates**: допускаются повторы
- **mixed types**: можно смешивать типы
- **indexing**: доступ по индексу

Примеры:
```py
fruits = ["apple", "banana", "cherry"]
numbers = [1, 2, 3]
mixed = [42, "Python", 3.14, True, [1, 2, 3]]
```

---

## 3) Создание списков
### 3.1 Список с элементами
```py
my_list = [1, 2, 3, 4]
```

### 3.2 Пустой список
```py
empty1 = []
empty2 = list()
```

---

## 4) Индексация списков
Индексация начинается с **0** (как у строк).

```py
my_list = ["apple", "banana", "cherry", "date"]

print(my_list[0])   # первый
print(my_list[3])   # последний (положительный индекс)
print(my_list[-1])  # последний (отрицательный индекс)
print(my_list[-4])  # первый (отрицательный индекс)
```

---

## 5) Срезы списков (slices)
Срез возвращает **часть списка** (подсписок) и **не изменяет** исходный список.

Синтаксис:
```py
lst[start:stop:step]
```
- `start` (необяз.) — индекс начала (включительно), по умолчанию `0`
- `stop` (обяз.) — индекс конца (не включительно)
- `step` (необяз.) — шаг, по умолчанию `1`

Примеры:
```py
my_list = [0, 1, 2, 3, 4, 5, 6]

print(my_list[1:4])    # [1, 2, 3]
print(my_list[::2])    # [0, 2, 4, 6]
print(my_list[::-1])   # разворот списка
print(my_list[3:])     # от 3-го индекса до конца
print(my_list[:])      # копия списка
```

Примеры с отрицательными индексами:
```py
my_list = [0, 1, 2, 3, 4, 5, 6]

print(my_list[-4:-1])     # [3, 4, 5]
print(my_list[-2:-5:-1])  # [5, 4, 3]
```

---

## 6) Изменение списка (mutable)
### 6.1 Изменение по индексу
```py
my_list = ["apple", "banana", "cherry"]
my_list[1] = "blueberry"
print(my_list)  # ["apple", "blueberry", "cherry"]
```

### 6.2 Изменение по срезу
Можно заменить сразу несколько элементов:
```py
my_list = [10, 20, 30, 40, 50]
my_list[1:3] = [200, 300]
print(my_list)  # [10, 200, 300, 40, 50]
```

### 6.3 Изменение с отрицательным индексом
```py
my_list = [100, 200, 300, 400]
my_list[-1] = 500
print(my_list)  # [100, 200, 300, 500]
```

---

## 7) Операции со списками
### 7.1 Конкатенация (объединение) `+`
```py
list1 = [1, 2, 3]
list2 = [4, 5, 6]
combined = list1 + list2
print(combined)  # [1, 2, 3, 4, 5, 6]
```

### 7.2 Повторение `*`
```py
print([0] * 5)       # [0, 0, 0, 0, 0]
print([1, 2, 3] * 3) # [1, 2, 3, 1, 2, 3, 1, 2, 3]
```

### 7.3 Проверка элемента `in`
`in` ищет **полное совпадение элемента**, а не подстроку:
```py
my_list = ["apple", "banana", "cherry"]
print("apple" in my_list)  # True
print("app" in my_list)    # False
```

### 7.4 Длина списка `len()`
```py
my_list = [1, 2, 3, 4, 5]
print(len(my_list))  # 5
```

---

## 8) Преобразование в список `list()`
### 8.1 Из строки
```py
word = "python"
letters = list(word)
print(letters)  # ['p', 'y', 't', 'h', 'o', 'n']
```

### 8.2 Из `range`
```py
my_range = range(1, 11, 2)
my_list = list(my_range)
print(my_list)  # [1, 3, 5, 7, 9]
```

---

## 9) Сравнение списков
Списки сравниваются **поэлементно**, слева направо.

```py
list1 = [1, 2, 3]
list2 = [1, 2, 3]
list3 = [1, 3, 0]

print(list1 == list2)  # True
print(list1 == list3)  # False
print(list1 != list3)  # True
```

Для `<`, `>`, `<=`, `>=`:
- сравнение идёт по первому отличающемуся элементу
- элементы должны быть сравнимыми между собой, иначе будет `TypeError`

Пример (int и float сравнимы):
```py
list1 = [1, 2.6, 2]
list2 = [1, 2, 3]
print(list1 < list2)
```

Пример ошибки (число и строка несравнимы):
```py
list1 = [1, 2, "apple"]
list2 = [1, 2, 3]
# print(list1 < list2)  # TypeError
```

Важная деталь: если различие найдено раньше, Python **остановит сравнение** и до “плохих” типов не дойдёт.
```py
list1 = [1, 2, "apple"]
list2 = [1, 3, 10]
print(list1 < list2)  # True, т.к. 2 < 3
```

---

## 10) Цикл `for` со списками
### 10.1 Перебор списка
```py
my_list = [1, 2, 3, 4, 5]
for item in my_list:
    print(item)
```

### 10.2 Вложенный `for` для списка строк
```py
my_strings = ["apple", "banana", "cherry"]
for word in my_strings:
    for letter in word:
        print("letter:", letter)
    print()
```

---

## 11) Практика (решения)

### 11.1 Числа, делящиеся на 3 от 0 до n
```py
n = int(input("Введите число: "))
numbers = list(range(0, n + 1, 3))
for num in numbers:
    print(num)
```

### 11.2 Имена длиннее средней длины
```py
names = ["John", "Bob", "Alice", "Anna", "Mark"]

sum_len = 0
for name in names:
    sum_len += len(name)

avg = sum_len / len(names)

print("Список имён:", names)
print("Средняя длина имён:", avg)
print("Имена длиннее средней длины:")
for name in names:
    if len(name) > avg:
        print(name)
```

---

## 12) Домашнее задание (подсказки/шаблоны)

### 12.1 Торговый автомат (минимум монет)
Номиналы: 50, 10, 5, 2, 1.  
Идея: жадный алгоритм — берём максимум крупных монет.

```py
cost = int(input("Введите стоимость товара: "))

for coin in (50, 10, 5, 2, 1):
    count = cost // coin
    if count:
        print(f"Внесите монеты номиналом {coin}: {count}")
    cost %= coin
```

### 12.2 Возвести в квадрат только нечётные числа (изменить список)
```py
numbers = [4, 9, 1, 7, 2, 5, 0, 3, 7, 1, 3]

for i in range(len(numbers)):
    if numbers[i] % 2 != 0:
        numbers[i] = numbers[i] ** 2

print("Измененный список:", numbers)
```

---

## 13) Мини-шпаргалка
```text
Создание: []  или list()
Индексы: 0..len-1  и  -1..-len
Срезы: lst[start:stop:step] (stop не включается)
Разворот: lst[::-1]
Изменение: lst[i] = x, lst[a:b] = [...]
Операции: + (склеить), * (повторить), in (элемент), len()
list("python") -> ['p','y','t','h','o','n']
list(range(1,11,2)) -> [1,3,5,7,9]
Сравнение списков: поэлементно, типы должны быть сравнимы
```
